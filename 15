SELECT
  ts.ENDPOINT_BACKEND,
  CASE WHEN SUM(ts.STATUS = 'PASS') = COUNT(*) THEN 'UP'
       ELSE 'DOWN'
  END AS STATUS_INDICATOR
FROM cqeexecution.teststeps ts
WHERE ts.ENDPOINT_BACKEND IS NOT NULL
GROUP BY ts.ENDPOINT_BACKEND
ORDER BY ts.ENDPOINT_BACKEND;


?var-backend_name=${__data.fields.ENDPOINT_BACKEND}


SELECT
  ts.APP_NAME,
  ts.ENDPOINT_URL,
  ts.STATUS
FROM cqeexecution.teststeps ts
WHERE ('$backend_name' = '' OR ts.ENDPOINT_BACKEND = '$backend_name')
ORDER BY ts.APP_NAME;

Name: backend_name
Type: Query
Data source: mysql
Query: SELECT DISTINCT ENDPOINT_BACKEND FROM cqeexecution.teststeps ORDER BY ENDPOINT_BACKEND;
